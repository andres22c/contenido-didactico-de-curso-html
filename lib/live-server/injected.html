<!-- Code injected by live-server -->
<script type="text/javascript">
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS(file) {
				var timestamp = new Date().getTime();
				document.head.insertAdjacentHTML('beforeend', `<link rel="stylesheet" href="${file}" class="cache_${timestamp}">`);
				document.querySelectorAll(`link[href="${file}"]`).forEach(function(e) {
					if (!!~e.href.indexOf(file) && e.className !== 'cache_' + timestamp) {
						setTimeout(function(){e.remove()}, 300);
					}
				});
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				const _msg = msg.data.split(':');
				const cmd = _msg[0];
				const arg = _msg[1];
				if (cmd == 'reload') window.location.reload(true); // https://stackoverflow.com/a/5722855/7283624
				else if (cmd == 'refreshcss') refreshCSS(arg);
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>